<!DOCTYPE html>

<html>

<head>
    <title>Ejemplo aprenderaprogramar.com</title>
    <meta charset="utf-8">

    <style type="text/css">
        label {
            display: block;
            margin: 5px;
        }

        #trucazo{
            opacity: 0;
        }
    </style>

    

</head>

<body>
    <form action="#" method="post" class="custom-form booking-form" id="bb-booking-form" name="reserva" role="form">
        <div class="text-center mb-5">
            <h2 class="mb-1">Reserve su Servicio</h2>

            <p>Por favor diligencie los datos y <br>nos pondremos en contacto</p>
        </div>

        <div class="booking-form-body">
            <div class="row">

                <div class="col-lg-6 col-12">
                    <input type="text" name="bb-name" id="bb-name" class="form-control" placeholder="Nombre Completo" >
                </div>

                <div class="col-lg-6 col-12">
                    <input type="text" class="form-control" name="bb-phone" placeholder="Celular de Contacto">
                </div>
            
                <div class="col-lg-6 col-12">
                    <input class="form-control" type="time" name="bb-time" value="00:00" />
                </div>

                <div class="col-lg-6 col-12">
                    <select class="form-select form-control" name="bb-branch" id="bb-branch" aria-label="Default select example">
                        <option selected="">Seleccione el Servicio</option>
                        <option value="Lavado de Alfombra">Lavado de Alfombra</option>
                        <option value="Lavado de Tapete">Lavado de Tapete</option>
                        <option value="Lavado de Mueble">Lavado de Mueble</option>
                        <option value="Lavado de Colchón">Lavado de Colchón</option>
                        <option value="Desparasitado de Colchón">Desparasitado de Colchón</option>                                                    
                    </select>

                </div>
                <div class="col-lg-6 col-12">
                    <input type="date" name="bb-date" id="bb-date" class="form-control" value="Fecha de recogida" >
                </div>

                <div class="col-lg-6 col-12">
                    <input type="number" name="bb-number" id="bb-number" class="form-control" placeholder="Número de piezas" >
                </div>
                <div class="col-lg-12 col-12">
                    <input type="text" name="bb-direccion" id="bb-direccion" class="form-control" placeholder="Dirección para recoger" >
                </div>
            </div>

            <textarea name="bb-message" rows="3" class="form-control" id="bb-message" placeholder="Comentarios (Opcional)"></textarea>

            <div class="col-lg-4 col-md-10 col-8 mx-auto">
                <button type="submit" class="form-control">Enviar</button>
            </div>
        </div>
    </form>
    <a href="mailto:lavadosblue@gmail.com" id="trucazo">mail</a>

</body>

<script type="text/javascript">
        
    const $form = document.querySelector('#bb-booking-form')
    const $buttonMailto = document.querySelector('#trucazo')

    $form.addEventListener('submit', handleSubmit)

    function handleSubmit(event) {
        event.preventDefault()
        const form = new FormData(this)
        // console.log(form.get('bb-name'))
        $buttonMailto.setAttribute('href', `mailto:lavadosblue@gmail.com?subject=Nombre: ${form.get('bb-name')} 
        Celular: ${form.get('bb-phone')}
        &body=${form.get('bb-message')} <br>
        -Dirección: ${form.get('bb-direccion')} <br>
        -Número de piezas: ${form.get('bb-number')} <br>
        -Fecha de recogida: ${form.get('bb-date')} <br>
        -Tipo de servicio ${form.get('bb-branch')} <br>
        -Hora de recogida ${form.get('bb-time')}`) 
        $buttonMailto.click()
    }
    </script>

</html>